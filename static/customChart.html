<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <meta name="description" content="">
  <meta name="author" content="">
  <!-- TODO: get a real favicon -->
  <!--<link rel="icon" href="/static/favicon.ico">-->

  <title>P.A.W.S.</title>

  <!-- Bootstrap core CSS -->
  <link href="/static/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="/static/assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="/static/dashboard.css" rel="stylesheet">

  <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
  <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
  <script src="/static/assets/js/ie-emulation-modes-warning.js"></script>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

  <!-- Highcharts -->
  <!--<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/highcharts-more.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>-->
  <script src="/static/highcharts/highcharts.js"></script>
  <script src="/static/highcharts/highcharts-more.js"></script>
  <script src="/static/highcharts/modules/exporting.js"></script>

</head>

<body>

  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false"
          aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        <a class="navbar-brand" href="/">P.A.W.S.</a>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-right">
          <li><a href="#">Dashboard</a></li>
          <li><a href="#">Settings</a></li>
          <li><a href="#">Profile</a></li>
          <li><a href="#">Help</a></li>
        </ul>
        <form class="navbar-form navbar-right">
          <input type="text" class="form-control" id="searchbar" placeholder=" Search Dog Name">
          <button class="btn btn-round" type="button" onclick="search()">Search</button>
        </form>
      </div>
    </div>
  </nav>

  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-3 col-md-2 sidebar">
        <ul class="nav nav-sidebar">
          <li class="active"><a href="/">Overview <span class="sr-only">(current)</span></a></li>
          <li><a href="customChart.html">Custom Graphs</a></li>
          <li><a href="#">Analytics</a></li>
          <li><a href="#">Export</a></li>
        </ul>
        <ul class="nav nav-sidebar">
          <li><a href="">Nav item</a></li>
          <li><a href="">Nav item again</a></li>
          <li><a href="">One more nav</a></li>
          <li><a href="">Another nav item</a></li>
          <li><a href="">More navigation</a></li>
        </ul>
        <ul class="nav nav-sidebar">
          <li><a href="">Nav item again</a></li>
          <li><a href="">One more nav</a></li>
          <li><a href="">Another nav item</a></li>
        </ul>
      </div>
      <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
        <h1 class="page-header">Custom Graphs</h1>
        <div class="row">
          <button id='graphButton' class='btn btn-round' style='background:blue; color:yellow'><a type = 'button'  href="javascript:void(0)" onclick="document.getElementById('popup1').style.display='block'; document.getElementById('graphButton').style.display='none'"><font color="yellow">Make A Graph</font></a></button>
        </div>
        <div id="popup1" style='display:none'>
          <div class="popup">
            <h2>Choose the Graph Type</h2>
            <p class="close" onclick="reset()">Ã—</p>
            <div class="content">
              <div>
                <select id="mySelect" onchange="fieldcheck()" style="width: 25%">
                            <option value = "Select" selected>Select One</option>
                            <option value = "Bar">Bar</option>
                            <option value = "Pie">Pie</option>
                            <option value = "Line">Line</option>
                        </select>

                <select id="mySelect2" onchange="fieldcheck2()" style="display:none">
                            <option value = "Apple">Apple</option>
                            <option value = " Orange">Orange</option>
                            <option value = "Pineapple">Pineapple</option>
                            <option value ="Banana">Banana</option>
                        </select>

                <select id="mySelect3" onchange="fieldcheck3()" style="display:none">
                            <option value = "Apple">Apple</option>
                            <option value = " Orange">Orange</option>
                            <option value = "Pineapple">Pineapple</option>
                            <option value ="Banana">Banana</option>
                        </select>

                <select id="mySelect4" onchange="fieldcheck4()" style="display:none">
                            <option value = "Apple">Apple</option>
                            <option value = " Orange">Orange</option>
                            <option value = "Pineapple">Pineapple</option>
                            <option value ="Banana">Banana</option>
                        </select>


                <button onclick="generateGraph()">Create</button>
              </div>
            </div>
          </div>
        </div>
        <div class='row'>
          <div class="col-md-12 col-sm-12 col-xs-12">
            <canvas id="mybarChart"></canvas>
          </div>
        </div>
      </div>

    </div>
  </div>


  <div id="container" style="max-width: 800px; height: 400px; margin: 0 auto"></div>




  <!-- Bootstrap core JavaScript
    ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="/static/assets/js/vendor/jquery.min.js"><\/script>')</script>
  <script src="/static/dist/js/bootstrap.min.js"></script>
  <!-- Just to make our placeholder images work. Don't actually copy the next line! -->
  <script src="/static/assets/js/vendor/holder.min.js"></script>
  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <script src="/static/assets/js/ie10-viewport-bug-workaround.js"></script>
  <script type="text/javascript" src="/static/charts.js"></script>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript" src="https://code.jquery.com/jquery-1.7.2.min.js"></script>
  <script src="/static/Chart.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

  <script>
      var string1 = '';
      var string2 = '';
      var searched = [];
      var lineChart;
      var isValidBar = false;
      var mybarChart;
      var mybarChart2;
      var id;
      var barchoices3 = [];
      var barchoices1 = [{"value": "Raw Data", "text": "Raw Data"}, {"value": "Comparisons", "text": "Comparisons"}];
      var barchoices2 = [{"value": "Active", "text": "Active"}, {"value": "Awake", "text": "Awake"}, {"value": "Rest", "text": "Rest"}, {"value": "Total", "text": "Total"}];
      var barchoices4 = [{"value": "Raw Data", "text": "Raw Data"}];

      $.ajax({
                type: "GET",
                url: "/api/cached/data/filtered/dogs",
                async: true,
                datatype: 'json',
                success : function(data) {
                    string2 = data;
                }
            });
            $.ajax({
                      type: "GET",
                      //url: "http://localhost:3000/db",
                      url: "/api/cached/data/filtered/blob",
                      async: true,
                      datatype: 'json',
                      success : function(data) {
                          string3 = data;
                      }
                  });
            function fieldcheck(){
               console.log("TEST");
               console.log(string3.dogs[0].name);
               console.log(barchoices3);
                var temp = $("#mySelect option:selected").text();
                isValidbar = false;
                console.log(isValidBar);
                if(temp != "Select One") {
                    $('#mySelect2').show();
                    if(temp == "Bar"){
                        barOptions('#mySelect2', barchoices1);
                    } else if (temp == "Pie"){
                        barOptions('#mySelect2', barchoices4);
                    }
                    else if (temp == "Line"){
                        var j = 0;
                        string1 = string3;
                        for (var i = 0; i < Object.keys(string3.dogs).length; i++) {
                           helper = {"value": string1.dogs[i].name, "text": string1.dogs[i].name}
                           barchoices3[j] = helper;
                           j++;
                        }
                        barOptions('#mySelect2', barchoices3);
                    }
                }  else {
                  isValidBar = false;
                    $('#mySelect2').hide();
                    $('#mySelect3').hide();
                    $('#mySelect4').hide();
                }
            }
            function fieldcheck2(){
                var temp = $("#mySelect2 option:selected").text();
                var temp2 = $("#mySelect option:selected").text();
                if(temp != "Select One") {
                    $('#mySelect3').show();
                    if(temp == "Raw Data"){
                        if (temp2 == "Bar") {
                            isValidBar = false;
                              barOptions('#mySelect3', barchoices2);
                              $('#mySelect4').hide();
                              //isValidBar = true;
                        } else if (temp2 == "Pie") {
                            var j = 0;
                            string1 = string3;
                            for (var i = 0; i < Object.keys(string3.dogs).length; i++) {
                               helper = {"value": string1.dogs[i].name, "text": string1.dogs[i].name}
                               barchoices3[j] = helper;
                               j++;
                            }
                            isValidBar = false;
                              barOptions('#mySelect3', barchoices3);
                              $('#mySelect4').hide();
                        }

                    } else if(temp == "Comparisons"){
                        if (temp2 == "Bar") {
                            isValidBar = false;
                            $('#mySelect4').show();
                            barOptions('#mySelect3', barchoices2);
                            barOptions('#mySelect4', barchoices2);
                        } else if (temp2 == "Pie") {
                            var j = 0;
                            string1 = string2;
                            for (var i = 0; i < string2.length; i++) {
                               helper = {"value": string1[i].name, "text": string1[i].name}
                               barchoices3[j] = helper;
                               j++;
                           }
                           isValidBar = false;
                           $('#mySelect4').show();
                           barOptions('#mySelect3', barchoices3);
                           barOptions('#mySelect4', barchoices3);
                        }
                } else if(temp2 == "Line") {
                        isValidBar = true;
                          barOptions('#mySelect3', barchoices2);
                          $('#mySelect4').hide();
                }  else {
                    $('#mySelect3').hide();
                    $('#mySelect4').hide();
                    isValidBar = false;
                }
            }
        }

            function fieldcheck3(){
              var select1 = $("#mySelect2 option:selected").text();
              var temp = $("#mySelect3 option:selected").text();
              if(temp != "Select One") {
                    if(select1 == "Raw Data"){
                        isValidBar = true;
                    } else {
                      idValiBar = false;
                    }
                }  else {
                    isValidBar = false;
                }
            }
            function fieldcheck4(){
              var select1 = $("#mySelect2 option:selected").text();
              var temp = $("#mySelect4 option:selected").text();
              var temp1 = $("#mySelect3 option:selected").text();
              if(temp != "Select One" && temp != temp1 && temp1 != "Select One") {
                    if(select1 == "Comparisons"){
                        isValidBar = true;
                    } else {
                      idValiBar = false;
                    }
                }  else {
                    isValidBar = false;
                }
            }
            function barOptions(item, options){
                $(item).empty();
                $(item).append($('<option>', {
                        value: "Select" ,
                        text: "Select One"
                        }));
                for(var i = 0; i < options.length ; i ++){
                    $(item).append($('<option>', {
                        value: options[i].value ,
                        text: options[i].text
                        }));
                }
            }
            function generateGraph(){
                //mybarChart.destroy();
              if(isValidBar){
                console.log("generate graph here");
                name1 = $("#mySelect1 option:selected").text();
                //alert("test");
                var temp1 = $("#mySelect option:selected").text();
                console.log(temp1);
                //alert("test");
                if (temp1 == "Bar") {
                    var select1 = $("#mySelect2 option:selected").text();
                    if(select1 == "Raw Data"){
                      var type = $("#mySelect3 option:selected").text();
                      makeBar(string2, type);
                    }
                    if(select1 == "Comparisons"){
                        var typeA = $("#mySelect3 option:selected").text();
                        var typeB = $("#mySelect4 option:selected").text();
                        makeBar2(string2, typeA, typeB);
                    }
                } else if (temp1 == "Pie") {
                    var select1 = $("#mySelect2 option:selected").text();
                    if(select1 == "Raw Data"){
                      var type = $("#mySelect3 option:selected").text();
                      makePie(string2, type);
                    }
                } else if (temp1 == "Line") {
                    var select1 = $("#mySelect2 option:selected").text();
                    var type = $("#mySelect3 option:selected").text();
                    makeLine(string3, select1, type);
                }
              } else {
                alert("Must Set Up A Proper Graph");
              }
            }
            function reset(){
              document.getElementById('popup1').style.display='none';
              document.getElementById('graphButton').style.display='block';
              $('#mySelect2').hide();
              $('#mySelect').val('Select');
              $('#mySelect2').val('Select');
              $('#mySelect3').val('Select');
              $('#mySelect4').val('Select');
              $('#mySelect3').hide();
              $('#mySelect4').hide();
              isValdBar = false;
              fieldcheck();
              //mybarChart.destroy();
            }
            function makeBar(data,type){
                        var arr = new Array();
                        var arr1 = new Array();
                        string1 = data/*.dogs*/;
                        //console.log(string1);
                        /*string1.sort = function(a, b){
                            return (getBarInfo(a,type)) - (getBarInfo(b,type));
                        };*/
                        var j = 0;
                        for (var i =0; i < string1.length; i++) {
                           arr[j] = string1[i].name;
                           console.log(string1[i].name);
                           var ratio = getBarInfo(string1[i], type);
                           arr1[j] = ratio;
                           j++;
                       };
                       //mybarChart.destroy();
                       Highcharts.chart('container', {
       chart: {
           type: 'column'
       },
       title: {
           text: 'Distribution of minutes spent ' + type
       },
       subtitle: {
           text: 'Dog activity tracked in minutes'
       },
       xAxis: {
           categories: arr,
           crosshair: true
       },
       yAxis: {
           min: 0,
           title: {
               text: 'Minutes'
           }
       },
       tooltip: {
           headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
           pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
               '<td style="padding:0"><b>{point.y:.1f} minutes</b></td></tr>',
           footerFormat: '</table>',
           shared: true,
           useHTML: true
       },
       plotOptions: {
           column: {
               pointPadding: 0.2,
               borderWidth: 0
           }
       },
       series: [{
           name: type,
           data: arr1

       }]
   });
                        // var ctx = document.getElementById("mybarChart");
                        // mybarChart = new Chart(ctx, {
                        //     type: 'bar',
                        //     data: {
                        //       labels: arr,
                        //       datasets: [{
                        //         label: type,
                        //         backgroundColor: "blue",
                        //         data: arr1
                        //       }]
                        //     },
                        //     options: {
                        //       scales: {
                        //         yAxes: [{
                        //           ticks: {
                        //             beginAtZero: true
                        //           }
                        //         }]
                        //       }
                        //     }
                        // });
                   }
                   function makeBar2(data,typeA, typeB){
                               var arr = new Array();
                               var arr1 = new Array();
                               var arr2 = new Array();
                               string1 = data/*.dogs*/;
                               //console.log(string1);
                               /*string1.sort = function(a, b){
                                   return (getBarInfo(a,type)) - (getBarInfo(b,type));
                               };*/
                               var j = 0;
                               for (var i =0; i < string1.length; i++) {
                                  arr[j] = string1[i].name;
                                  console.log(string1[i].name);
                                  var ratio = getBarInfo(string1[i], typeA);
                                  var ratio2 = getBarInfo(string1[i], typeB);
                                  arr1[j] = ratio;
                                  arr2[j] = ratio2;
                                  j++;
                              }
                            //    var ctx = document.getElementById("mybarChart");
                            //    mybarChart = new Chart(ctx, {
                            //        type: 'bar',
                            //        data: {
                            //          labels: arr,
                            //          datasets: [{
                            //            label: typeA,
                            //            backgroundColor: "blue",
                            //            data: arr1
                            //        },{
                            //          label: typeB,
                            //          backgroundColor: "red",
                            //          data: arr2
                            //        }]
                            //        },
                            //        options: {
                            //          scales: {
                            //            yAxes: [{
                            //              ticks: {
                            //                beginAtZero: true
                            //              }
                            //            }]
                            //          }
                            //        }
                            //    });
                            Highcharts.chart('container', {
            chart: {
                type: 'column'
            },
            title: {
                text: 'Distribution of minutes spent ' + typeA + " and " + typeB
            },
            subtitle: {
                text: 'Dog activity tracked in minutes'
            },
            xAxis: {
                categories: arr,
                crosshair: true
            },
            yAxis: {
                min: 0,
                title: {
                    text: 'Minutes'
                }
            },
            tooltip: {
                headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                    '<td style="padding:0"><b>{point.y:.1f} minutes</b></td></tr>',
                footerFormat: '</table>',
                shared: true,
                useHTML: true
            },
            plotOptions: {
                column: {
                    pointPadding: 0.2,
                    borderWidth: 0
                }
            },
            series: [{
            name: typeA,
            data: arr1

        }, {
            name: typeB,
            data: arr2

        }]
    });
                      }
                          function makePie(data, dog){
                              var arr = new Array();
                              var arr1 = new Array();
                              string1 = data/*.dogs*/;
                              //console.log(string1);
                              /*string1.sort = function(a, b){
                                  return (getBarInfo(a,type)) - (getBarInfo(b,type));
                              };*/
                              var j = 0;
                              for (var i =0; i < string1.length; i++) {
                                 if (string1[i].name == dog) {

                                     console.log(string1[i].name);
                                     var data1 = getBarInfo(string1[i], "Rest");
                                     var data2 = getBarInfo(string1[i], "Active");
                                     var data3 = getBarInfo(string1[i], "Awake");
                                     var dataT = data1 + data2 + data3;
                                     var ratioA = data1/dataT;
                                     var ratioB = data2/dataT;
                                     var ratioC = data3/dataT;
                                 }
                             };

                              var ctx = document.getElementById("mybarChart");
                            //   var myChart = new Chart(ctx, {
                            //     type: 'pie',
                            //     data: {
                            //       labels: ["Rest", "Active", "Awake"],
                            //       datasets: [{
                            //         backgroundColor: [
                            //           "#2ecc71",
                            //           "#3498db",
                            //           "#95a5a6"
                            //         ],
                            //         data: [data1, data2, data3]
                            //       }]
                            //     }
                            //   });
                            Highcharts.chart('container', {
       chart: {
           plotBackgroundColor: null,
           plotBorderWidth: null,
           plotShadow: false,
           type: 'pie'
       },
       title: {
           text: 'Ratio of minutes spent in each activity for ' + dog
       },
       tooltip: {
           pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
       },
       plotOptions: {
           pie: {
               allowPointSelect: true,
               cursor: 'pointer',
               dataLabels: {
                   enabled: true,
                   format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                   style: {
                       color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                   }
               }
           }
       },
       series: [{
           name: 'Brands',
           colorByPoint: true,
           data: [{
               name: 'Time spent at rest',
               y: ratioA
           }, {
               name: 'Time spent active',
               y: ratioB,
           }, {
               name: 'Time spent awake',
               y: ratioC
           }]
       }]
   });
                         }

                         function makeLine(data, dog, type){
                             console.log(type);
                             var arr = new Array();
                             var arr1 = new Array();
                             var dates = [];
                             string1 = data/*.dogs*/;
                             //console.log(string1);
                             /*string1.sort = function(a, b){
                                 return (getBarInfo(a,type)) - (getBarInfo(b,type));
                             };*/
                             for (var k =0; k < Object.keys(string3.dogs).length; k++) {
                                 if (string3.dogs[k].name == dog) {
                                    id = string3.dogs[k].id;
                                 }
                             }
                             console.log(id);
                             var j = 0;
                             for (var i =0; i < Object.keys(string3.days).length; i++) {
                                var dateSplit = string3.days[i].date.split("-");
                                for (var m =0; m < Object.keys(string3.days[i].dogs).length; m++) {
                                    if (string3.days[i].dogs[m].id == id) {
                                        console.log(string3.days[i].date);
                                        if (type == "Total") {
                                            dates[i] = [Date.UTC(dateSplit[0], dateSplit[1], dateSplit[2]), string3.days[i].dogs[m].total];
                                        } else if (type == "Rest") {
                                            dates[i] = [Date.UTC(dateSplit[0], dateSplit[1], dateSplit[2]), string3.days[i].dogs[m].rest];
                                        } else if (type == "Active") {
                                            dates[i] = [Date.UTC(dateSplit[0], dateSplit[1], dateSplit[2]), string3.days[i].dogs[m].active];
                                        } else {
                                            dates[i] = [Date.UTC(dateSplit[0], dateSplit[1], dateSplit[2]), string3.days[i].dogs[m].awake];

                                        }
                                    }
                                }
                                //console.log(dates[i]);
                             }
                             console.log(dateSplit);
                             //console.log(dateSplit);
                             Highcharts.chart('container', {
           chart: {
               zoomType: 'x'
           },
           title: {
               text: 'Graph of dog activity over time'
           },
           subtitle: {
               text: document.ontouchstart === undefined ?
                       'Click and drag in the plot area to zoom in' : 'Pinch the chart to zoom in'
           },
           xAxis: {
               type: 'datetime'
           },
           yAxis: {
               title: {
                   text: 'Minutes ' + type
               }
           },
           legend: {
               enabled: false
           },
           plotOptions: {
               area: {
                   fillColor: {
                       linearGradient: {
                           x1: 0,
                           y1: 0,
                           x2: 0,
                           y2: 1
                       },
                       stops: [
                           [0, Highcharts.getOptions().colors[0]],
                           [1, Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get('rgba')]
                       ]
                   },
                   marker: {
                       radius: 2
                   },
                   lineWidth: 1,
                   states: {
                       hover: {
                           lineWidth: 1
                       }
                   },
                   threshold: null
               }
           },

           series: [{
               type: 'area',
               name: 'Minutes spent ' + type,
               data: dates
           }]
       });


                         }
                         function makePie2(data, dog1, dog2){
                             var arr = new Array();
                             var arr1 = new Array();
                             string1 = data/*.dogs*/;
                             //console.log(string1);
                             /*string1.sort = function(a, b){
                                 return (getBarInfo(a,type)) - (getBarInfo(b,type));
                             };*/
                             var j = 0;
                             for (var i =0; i < string1.length; i++) {
                                if (string1[i].name == dog1) {
                                    console.log(string1[i].name);
                                    var data1 = getBarInfo(string1[i], "Rest");
                                    var data2 = getBarInfo(string1[i], "Active");
                                    var data3 = getBarInfo(string1[i], "Awake");
                                }
                                if (string1[i].name == dog2) {
                                    console.log(string1[i].name);
                                    var data4 = getBarInfo(string1[i], "Rest");
                                    var data5 = getBarInfo(string1[i], "Active");
                                    var data6 = getBarInfo(string1[i], "Awake");
                                }
                            };
                             var ctx = document.getElementById("mybarChart");
                             var myChart = new Chart(ctx, {
                               type: 'pie',
                               data: {
                                 labels: ["Rest", "Active", "Awake"],
                                 datasets: [{
                                   backgroundColor: [
                                     "#2ecc71",
                                     "#3498db",
                                     "#95a5a6"
                                   ],
                                   data: [data1, data2, data3]
                                 }]
                               }
                             });
                             var ctx = document.getElementById("mybarChart");
                             var myChart = new Chart(ctx, {
                               type: 'pie',
                               data: {
                                 labels: ["Rest", "Active", "Awake"],
                                 datasets: [{
                                   backgroundColor: [
                                     "#2ecc71",
                                     "#3498db",
                                     "#95a5a6"
                                   ],
                                   data: [data4, data5, data6]
                                 }]
                               }
                             });
                        }
                   function getRest(dog){
                     return dog.rest;
                   }
                   function getBarInfo(dog,type){
                     if(type == 'Rest'){
                       return dog.rest;
                     } else if(type == 'Active'){
                       return dog.active;
                     } else if(type == 'Awake'){
                       return dog.awake;
                     } else if(type == 'Total'){
                       return dog.total;
                     }
                   }
          </script>

          </body>
        </html>
